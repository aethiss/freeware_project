{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head'; // Libs\n\nimport { getCookie } from '../src/libs/cookieHelper'; // Components\n\nimport Header from '../src/components/common/header/Header';\nimport Account from '../src/components/container/account/Account'; // actions\n\nimport { autoLogin } from '../src/redux/actions/user';\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index() {\n    _classCallCheck(this, Index);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Index).apply(this, arguments));\n  }\n\n  _createClass(Index, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          currentState = _this$props.currentState,\n          dispatch = _this$props.dispatch;\n      return __jsx(\"div\", {\n        className: \"bodyContainer\"\n      }, __jsx(Head, null, __jsx(\"title\", null, \"Freeware delle idee\"), __jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\"\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"/static/css/bootstrap.min.css\"\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"/static/css/custom.css\"\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"/static/css/layout.css\"\n      })), __jsx(\"div\", {\n        className: \"wrapper\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"column\"\n      }, __jsx(Header, {\n        user: currentState.user,\n        dispatch: dispatch\n      }))), __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"column\"\n      }, __jsx(Account, null)))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var reduxStore, req, isServer, token;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                reduxStore = _ref.reduxStore, req = _ref.req;\n                isServer = !!req;\n\n                if (!isServer) {\n                  _context.next = 8;\n                  break;\n                }\n\n                token = getCookie('token', req.headers.cookie);\n\n                if (!token) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 7;\n                return reduxStore.dispatch(autoLogin(token));\n\n              case 7:\n                return _context.abrupt(\"return\", _objectSpread({}, reduxStore, {\n                  currentState: reduxStore.getState()\n                }));\n\n              case 8:\n                return _context.abrupt(\"return\", _objectSpread({}, reduxStore, {\n                  currentState: reduxStore.getState()\n                }));\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Index;\n}(Component);\n\nexport default connect()(Index);","map":{"version":3,"sources":["/Users/aethiss/Web/Projects/freewareIdee/freeware-beta/pages/projects.js"],"names":["React","Component","connect","Head","getCookie","Header","Account","autoLogin","Index","props","currentState","dispatch","user","reduxStore","req","isServer","token","headers","cookie","getState"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,WAAjB,C,CAEA;;AACA,SAASC,SAAT,QAA0B,0BAA1B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,wCAAnB;AACA,OAAOC,OAAP,MAAoB,6CAApB,C,CAEA;;AACA,SAASC,SAAT,QAA0B,2BAA1B;;IAEMC,K;;;;;;;;;;;;;6BAmBK;AAAA,wBAC4B,KAAKC,KADjC;AAAA,UACCC,YADD,eACCA,YADD;AAAA,UACeC,QADf,eACeA,QADf;AAEP,aACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,MAAC,IAAD,QACE,2CADF,EAEE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,OAAO,EAAC;AAFV,QAFF,EAME;AACE,QAAA,GAAG,EAAC,YADN;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAC;AAHP,QANF,EAWE;AACE,QAAA,GAAG,EAAC,YADN;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAC;AAHP,QAXF,EAgBE;AACE,QAAA,GAAG,EAAC,YADN;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAC;AAHP,QAhBF,CADF,EAuBE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,MAAC,MAAD;AAAQ,QAAA,IAAI,EAAED,YAAY,CAACE,IAA3B;AAAiC,QAAA,QAAQ,EAAED;AAA3C,QADF,CADF,CADF,EAME;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,MAAC,OAAD,OADF,CADF,CANF,CAvBF,CADF;AAsCD;;;;;;;;;;;;AA1D8BE,gBAAAA,U,QAAAA,U,EAAYC,G,QAAAA,G;AACnCC,gBAAAA,Q,GAAW,CAAC,CAACD,G;;qBACfC,Q;;;;;AACIC,gBAAAA,K,GAAQZ,SAAS,CAAC,OAAD,EAAUU,GAAG,CAACG,OAAJ,CAAYC,MAAtB,C;;qBACnBF,K;;;;;;uBACIH,UAAU,CAACF,QAAX,CAAoBJ,SAAS,CAACS,KAAD,CAA7B,C;;;mEAEDH,U;AACHH,kBAAAA,YAAY,EAAEG,UAAU,CAACM,QAAX;;;;mEAKfN,U;AACHH,kBAAAA,YAAY,EAAEG,UAAU,CAACM,QAAX;;;;;;;;;;;;;;;;;;;;EAfAlB,S;;AA8DpB,eAAeC,OAAO,GAAGM,KAAH,CAAtB","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport Head from 'next/head'\n\n// Libs\nimport { getCookie } from '../src/libs/cookieHelper'\n\n// Components\nimport Header from '../src/components/common/header/Header'\nimport Account from '../src/components/container/account/Account'\n\n// actions\nimport { autoLogin } from '../src/redux/actions/user'\n\nclass Index extends Component {\n  static async getInitialProps({ reduxStore, req }) {\n    const isServer = !!req\n    if (isServer) {\n      const token = getCookie('token', req.headers.cookie)\n      if (token) {\n        await reduxStore.dispatch(autoLogin(token))\n        return {\n          ...reduxStore,\n          currentState: reduxStore.getState(),\n        }\n      }\n    }\n    return {\n      ...reduxStore,\n      currentState: reduxStore.getState(),\n    }\n  }\n\n  render() {\n    const { currentState, dispatch } = this.props\n    return (\n      <div className=\"bodyContainer\">\n        <Head>\n          <title>Freeware delle idee</title>\n          <meta\n            name=\"viewport\"\n            content=\"initial-scale=1.0, width=device-width\"\n          />\n          <link\n            rel=\"stylesheet\"\n            type=\"text/css\"\n            href=\"/static/css/bootstrap.min.css\"\n          />\n          <link\n            rel=\"stylesheet\"\n            type=\"text/css\"\n            href=\"/static/css/custom.css\"\n          />\n          <link\n            rel=\"stylesheet\"\n            type=\"text/css\"\n            href=\"/static/css/layout.css\"\n          />\n        </Head>\n        <div className=\"wrapper\">\n          <div className=\"row\">\n            <div className=\"column\">\n              <Header user={currentState.user} dispatch={dispatch} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"column\">\n              <Account />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect()(Index)\n"]},"metadata":{},"sourceType":"module"}